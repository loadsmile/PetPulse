<!-- Page Title -->
<h1>Medical Records for <%= @pet.name %></h1>

<!-- TODO: Back to dashboard for specific pet -->
<%= link_to "Back to Dashboard", dashboard_path, class: "btn btn-primary" %>

<!-- Icon to trigger modal -->
<span type="icon" data-bs-toggle="modal" data-bs-target="#addRecordModal">
  <!-- Placeholder icon below - TODO: replace this later-->
  <i class="fas fa-plus"></i>
</span>

<!-- New Modal -->
<div class="modal fade" id="addRecordModal" tabindex="-1" role="dialog" aria-labelledby="addRecordModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <%= render 'records/form', record: @record %>
    </div>
  </div>
</div>
<!-- End of New Modal>

<!-- Iterate over pet's records and display them with a Modal to edit -->
<% @records.each do |record| %>
  <div class="card">
    <!-- Card Title -->
    <div class="card-header"><%= record.title %></div>
    <!-- End of Card Title -->

    <!-- Card Body -->
    <div class="card-body">
      <p><%= record.content %></p>
      <!-- Edit Icon -->
      <span type="button", data-bs-toggle="modal" data-bs-target="#editRecordModal">
        <i class="fas fa-edit"></i>
      </span>
      <!-- End of Edit Icon -->

      <!--Edit Modal -->
      <div class="modal fade" id="editRecordModal" tabindex="-1" role="dialog" aria-labelledby="editRecordModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <%= render 'records/editform', record: record %>
          </div>
        </div>
      </div>
      <!-- End of Edit Modal -->

      <!-- Delete Icon-->
        <%= link_to pet_record_path(@pet, record), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } do %>
          <i class="fas fa-trash-alt"></i>
        <% end %>
      <!-- End of Delete Icon-->

      </div>
      <!-- End of Card Body -->
  </div>
<% end %>
<!-- End Of Iteration -->
